{"version":3,"sources":["webpack:///D:/Code/FuFuShop/FuFuShop.WxWeb/components/haibao/haibao.vue?b2b8","webpack:///D:/Code/FuFuShop/FuFuShop.WxWeb/components/haibao/haibao.vue?dc9b","webpack:///D:/Code/FuFuShop/FuFuShop.WxWeb/components/haibao/haibao.vue?6c11","webpack:///D:/Code/FuFuShop/FuFuShop.WxWeb/components/haibao/haibao.vue?2924","uni-app:///components/haibao/haibao.vue","webpack:///D:/Code/FuFuShop/FuFuShop.WxWeb/components/haibao/haibao.vue?0949","webpack:///D:/Code/FuFuShop/FuFuShop.WxWeb/components/haibao/haibao.vue?da05"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+H;AAC/H;AAC0D;AACL;AACsC;;;AAG3F;AACoL;AACpL,gBAAgB,2LAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,6FAAM;AACR,EAAE,sGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,iGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACdA;AAAA;AAAA;AAAA;AAAwrB,CAAgB,srBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACqB5sB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AApBA,GADA;AAuBA,MAvBA,kBAuBA;AACA;AACA,gBADA;AAEA,gBAFA;AAGA,eAHA;AAIA,mBAJA;AAKA,qFALA;AAMA,qBANA;AAOA,+BAPA;AAQA,kBARA;AASA,sDATA;;AAWA,GAnCA;AAoCA;AACA;AACA,cAFA,wBAEA;AACA;AACA;AACA,KALA;AAMA;AACA,UAPA,oBAOA;AACA;AACA,mCADA;AAEA,4BAFA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAdA,yCAeA,mCAfA,QAeA,SAfA;AAgBA,kBAhBA,GAgBA,eAhBA;AAiBA,kBAjBA,GAiBA,eAjBA;AAkBA;AACA;AACA;AACA,0CArBA,CAqBA;AACA,+CAtBA,CAsBA;AACA;AACA;AACA;AACA;AACA,sBA3BA,GA2BA,2CA3BA;AA4BA;AACA;AACA,oDADA;AAEA,iBAHA,MAGA;AACA;AACA,oDADA;AAEA;AACA;AACA;AACA;AACA;AACA,kDADA;AAEA;AACA;AACA,kDADA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAxDA,0CAyDA,gCAzDA,SAyDA,SAzDA;AA0DA;AACA;AACA;AACA;AACA;AACA,mBAFA;AAGA,iBAJA,EAIA,GAJA,EA5DA;AAiEA,KAxEA;AAyEA;AACA,kBA1EA,0BA0EA,GA1EA,EA0EA,CA1EA,EA0EA,CA1EA,EA0EA,MA1EA,EA0EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAlFA;AAmFA;AACA,gBApFA,wBAoFA,GApFA,EAoFA,EApFA,EAoFA,EApFA,EAoFA,EApFA,EAoFA,EApFA,EAoFA,UApFA,EAoFA;AACA,oCADA,CACA;AACA,0BAFA,CAEA;AACA;AACA,oBADA,EACA;AACA,oBAFA,EAEA;AACA,4EAHA;AAIA;AACA;AACA;AACA;AACA;AACA,SAHA,MAGA;AACA;AACA;AACA;AACA;AACA,KArGA;AAsGA;AACA,gBAvGA,wBAuGA,GAvGA,EAuGA,GAvGA,EAuGA,CAvGA,EAuGA,CAvGA,EAuGA,KAvGA,EAuGA,MAvGA,EAuGA,MAvGA,EAuGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAvHA;AAwHA;AACA,iBAzHA,yBAyHA,GAzHA,EAyHA,CAzHA,EAyHA,CAzHA,EAyHA,KAzHA,EAyHA,MAzHA,EAyHA,MAzHA,EAyHA,KAzHA,EAyHA;AACA;AACA;AACA;AACA;AACA,+BALA,CAKA;AACA;AACA;AACA;AACA;AACA;AACA,KApIA;AAqIA;AACA,gBAtIA,wBAsIA,MAtIA,EAsIA;AACA;AACA;AACA,qBADA;AAEA;AACA;AACA;AACA,WALA;AAMA;AACA;AACA;AACA,WATA;;AAWA,OAZA;AAaA,KApJA;AAqJA;AACA,aAtJA,uBAsJA;AACA;AACA;AACA,eADA,mBACA,GADA,EACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBADA,mBACA,GADA,EACA;AACA;AACA,iBAHA;;AAKA,aAPA,MAOA;AACA;AACA;AACA;AACA,yBADA,mBACA,GADA,EACA;AACA;AACA,mBAHA;;AAKA;AACA;AACA,WAnBA,MAmBA;AACA;AACA;AACA,SAzBA;;AA2BA;AACA;AACA,6BADA;AAEA,kBAFA;AAGA;AACA;AACA;AACA,sCADA;AAEA,mBAFA,mBAEA,GAFA,EAEA;AACA;AACA,+BADA;AAEA,+BAFA;AAGA,8BAHA;;AAKA;AACA;AACA,eAFA,EAEA,IAFA;AAGA,aAXA;;AAaA,SAlBA;AAmBA,UAnBA;AAoBA,KAxMA,EApCA,E;;;;;;;;;;;;;ACrBA;AAAA;AAAA;AAAA;AAA+zC,CAAgB,qvCAAG,EAAC,C;;;;;;;;;;;ACAn1C;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/haibao/haibao.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./haibao.vue?vue&type=template&id=97d53f78&scoped=true&\"\nvar renderjs\nimport script from \"./haibao.vue?vue&type=script&lang=js&\"\nexport * from \"./haibao.vue?vue&type=script&lang=js&\"\nimport style0 from \"./haibao.vue?vue&type=style&index=0&id=97d53f78&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"97d53f78\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/haibao/haibao.vue\"\nexport default component.exports","export * from \"-!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./haibao.vue?vue&type=template&id=97d53f78&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      $event.stopPropagation()\n      _vm.isShow = false\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./haibao.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./haibao.vue?vue&type=script&lang=js&\"","<!-- title\tString\t是\t海报标题\r\nsubTitle\tString\t是\t海报副标题\r\nheaderImg\tString\t是\t海报标题图片\r\nprice\tNumber\t是\t商品价格\r\nabImg\tString\t否\t底部广告图，可自行修改 -->\r\n<template>\r\n\t<view \r\n\t\tclass=\"content\" \r\n\t\tv-if=\"isShow\" \r\n\t\t@click.stop=\"isShow=false\"\r\n\t>\r\n\t\t<canvas \r\n\t\t\t@click.stop=\"\" \r\n\t\t\t:style=\"{ width: canvasW + 'px', height: canvasH + 'px' }\" \r\n\t\t\tcanvas-id=\"my-canvas\"\r\n\t\t></canvas>\r\n\t\t<view class=\"save-btn\" @click.stop=\"saveImage\">保存图片</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default{\r\n\t\tprops:{\r\n\t\t\t// headerImg:{   //海报标题图片\r\n\t\t\t// \ttype: String,\r\n\t\t\t// \tdefault: 'https://oss.zhangyubk.com/%E8%8D%89%E8%8E%93%E5%8D%83%E5%B1%82.png'\r\n\t\t\t// },\r\n\t\t\t// title:{    //海报标题\r\n\t\t\t// \ttype: String,\r\n\t\t\t// \tdefault: '草莓千层蛋糕'\r\n\t\t\t// },\r\n\t\t\t// subTitle:{   //海报副标题\r\n\t\t\t// \ttype: String,\r\n\t\t\t// \tdefault: '鲜嫩多汁的草莓融合香甜奶油'\r\n\t\t\t// },\r\n\t\t\t// price:{   //商品价格\r\n\t\t\t// \ttype: Number,\r\n\t\t\t// \tdefault: 36.89\r\n\t\t\t// },\r\n\t\t\t// qrcode:{   //带参数的二维码\r\n\t\t\t// \ttype:String,\r\n\t\t\t// \tdefault:'https://oss.zhangyubk.com/cmqrcode.jpg'\r\n\t\t\t// }\r\n\t\t},\r\n\t\tdata(){\r\n\t\t\treturn {\r\n\t\t\t\tcanvasW: 0,\r\n\t\t\t\tcanvasH: 0,\r\n\t\t\t\tctx: null,\r\n\t\t\t\tisShow: false,\r\n\t\t\t\theaderImg:'https://oss.zhangyubk.com/%E8%8D%89%E8%8E%93%E5%8D%83%E5%B1%82.png',\r\n\t\t\t\ttitle:'草莓千层蛋糕',\r\n\t\t\t\tsubTitle:'鲜嫩多汁的草莓融合香甜奶油',\r\n\t\t\t\tprice:50.00,\r\n\t\t\t\tqrcode:'https://oss.zhangyubk.com/cmqrcode.jpg',\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\t//显示\r\n\t\t\tshowCanvas(){\r\n\t\t\t\tthis.isShow = true\r\n\t\t\t\tthis.__init()\r\n\t\t\t},\r\n\t\t\t//初始化画布\r\n\t\t\tasync __init(){\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t    title: '正在生成中...',\r\n\t\t\t\t\tmask: true\r\n\t\t\t\t})\r\n\t\t\t\tthis.ctx = uni.createCanvasContext('my-canvas',this)\r\n\t\t\t\tthis.canvasW = uni.upx2px(550);\r\n\t\t\t\tthis.canvasH = uni.upx2px(800);\r\n\t\t\t\t//设置画布背景透明\r\n\t\t\t\tthis.ctx.setFillStyle('rgba(255, 255, 255, 0.5)')\r\n\t\t\t\t//设置画布大小\r\n\t\t\t\tthis.ctx.fillRect(0,0,this.canvasW,this.canvasH)\r\n\t\t\t\t//绘制圆角背景\r\n\t\t\t\tthis.drawRoundRect(this.ctx, 0, 0, this.canvasW, this.canvasH,uni.upx2px(18),'#FFFFFF')\r\n\t\t\t\t//获取标题图片\r\n\t\t\t\tlet headerImg = await this.getImageInfo(this.headerImg);\r\n\t\t\t\tlet hW = uni.upx2px(500);\r\n\t\t\t\tlet hH = uni.upx2px(320);\r\n\t\t\t\t//绘制标题图\r\n\t\t\t\tthis.drawRoundImg(this.ctx,headerImg.path,((this.canvasW-hW) / 2),((this.canvasW-hW) / 2),hW,hH,8)\r\n\t\t\t\t//绘制标题\r\n\t\t\t\tthis.ctx.setFontSize(18); //设置标题字体大小\r\n\t\t\t\tthis.ctx.setFillStyle('#333'); //设置标题文本颜色\r\n\t\t\t\tthis.ctx.fillText(this.title,((this.canvasW-hW) / 2),(((this.canvasW-hW) / 2) + hH + 30))\r\n\t\t\t\t//绘制副标题\r\n\t\t\t\tthis.ctx.setFontSize(14);\r\n\t\t\t\tthis.ctx.setFillStyle('#858585');\r\n\t\t\t\tlet sWidth = this.ctx.measureText(this.subTitle).width\r\n\t\t\t\tif(sWidth > hW){\r\n\t\t\t\t\tthis.ctx.fillText(this.subTitle.slice(0,19) + '...',((this.canvasW-hW) / 2),(\r\n\t\t\t\t\t((this.canvasW-hW) / 2) + hH + 55))\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.ctx.fillText(this.subTitle,((this.canvasW-hW) / 2),(\r\n\t\t\t\t\t((this.canvasW-hW) / 2) + hH + 55))\r\n\t\t\t\t}\r\n\t\t\t\t//绘制价格\r\n\t\t\t\tthis.ctx.setFontSize(14);\r\n\t\t\t\tthis.ctx.setFillStyle('#f54545');\r\n\t\t\t\tthis.ctx.fillText('￥',((this.canvasW-hW) / 2),(\r\n\t\t\t\t((this.canvasW-hW) / 2) + hH + 90))\r\n\t\t\t\tthis.ctx.setFontSize(18);\r\n\t\t\t\tthis.ctx.fillText(this.price,(((this.canvasW-hW) / 2) + 18),(\r\n\t\t\t\t((this.canvasW-hW) / 2) + hH + 90))\r\n\t\t\t\t//绘制虚线\r\n\t\t\t\tthis.drawDashLine(this.ctx,10,(((this.canvasW-hW) / 2) + hH + 120),(this.canvasW-10),(((this.canvasW-hW) / 2) + hH + 120),5)\r\n\t\t\t\t//左边实心圆\r\n\t\t\t\tthis.drawEmptyRound(this.ctx,0,(((this.canvasW-hW) / 2) + hH + 120),10)\r\n\t\t\t\t//右边实心圆\r\n\t\t\t\tthis.drawEmptyRound(this.ctx,this.canvasW,(((this.canvasW-hW) / 2) + hH + 120),10)\r\n\t\t\t\t//提示文案\r\n\t\t\t\tthis.ctx.setFontSize(12);\r\n\t\t\t\tthis.ctx.setFillStyle('#858585');\r\n\t\t\t\tthis.ctx.fillText('长按识别小程序码进入',30,(((this.canvasW-hW) / 2) + hH + 170))\r\n\t\t\t\t//底部广告\r\n\t\t\t\t// let BottomAdImg = await this.getImageInfo(this.abImg)\r\n\t\t\t\t// this.ctx.drawImage(BottomAdImg.path,15,(((this.canvasW-hW) / 2) + hH + 160),175,55)\r\n\t\t\t\t//小程序码\r\n\t\t\t\tlet qrcodeImg = await this.getImageInfo(this.qrcode)\r\n\t\t\t\tthis.ctx.drawImage(qrcodeImg.path,180,(((this.canvasW-hW) / 2) + hH + 135), 82,82)\r\n\t\t\t\t//延迟渲染\r\n\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\tthis.ctx.draw(true,()=>{\r\n\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t})\r\n\t\t\t\t},500)\r\n\t\t\t},\r\n\t\t\t//绘制实心圆\r\n\t\t\tdrawEmptyRound(ctx,x,y,radius){\r\n\t\t\t\tctx.save()\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tctx.arc(x, y, radius, 0, 2 * Math.PI,true);\r\n\t\t\t\tctx.setFillStyle('rgba(0, 0, 0, .4)')\r\n\t\t\t\tctx.fill();\r\n\t\t\t\tctx.restore()\r\n\t\t\t\tctx.closePath()\r\n\t\t\t},\r\n\t\t\t//绘制虚线\r\n\t\t\tdrawDashLine(ctx,x1,y1,x2,y2,dashLength){\r\n\t\t\t\tctx.setStrokeStyle(\"#cccccc\")//设置线条的颜色\r\n\t\t\t\tctx.setLineWidth(1)//设置线条宽度\r\n\t\t\t\tvar dashLen = dashLength,\r\n\t\t\t\txpos = x2 - x1, //得到横向的宽度;\r\n\t\t\t\typos = y2 - y1, //得到纵向的高度;\r\n\t\t\t\tnumDashes = Math.floor(Math.sqrt(xpos * xpos + ypos * ypos) / dashLen); \r\n\t\t\t\t//利用正切获取斜边的长度除以虚线长度，得到要分为多少段;\r\n\t\t\t\tfor(var i=0; i<numDashes; i++){\r\n\t\t\t\t if(i % 2 === 0){\r\n\t\t\t\t\t ctx.moveTo(x1 + (xpos/numDashes) * i, y1 + (ypos/numDashes) * i); \r\n\t\t\t\t\t //有了横向宽度和多少段，得出每一段是多长，起点 + 每段长度 * i = 要绘制的起点；\r\n\t\t\t\t  }else{\r\n\t\t\t\t\t  ctx.lineTo(x1 + (xpos/numDashes) * i, y1 + (ypos/numDashes) * i);\r\n\t\t\t\t  }\r\n\t\t\t\t}\r\n\t\t\t\tctx.stroke();\r\n\t\t\t},\r\n\t\t\t//带圆角图片\r\n\t\t\tdrawRoundImg(ctx, img, x, y, width, height, radius){\r\n\t\t\t\tctx.beginPath()\r\n\t\t\t\tctx.save()\r\n\t\t\t\t// 左上角\r\n\t\t\t\tctx.arc(x + radius, y + radius, radius, Math.PI, Math.PI * 1.5)\r\n\t\t\t\t// 右上角\r\n\t\t\t\tctx.arc(x + width - radius, y + radius, radius, Math.PI * 1.5, Math.PI * 2)\r\n\t\t\t\t// 右下角\r\n\t\t\t\tctx.arc(x + width - radius, y + height - radius, radius, 0, Math.PI * 0.5)\r\n\t\t\t\t// 左下角\r\n\t\t\t\tctx.arc(x + radius, y + height - radius, radius, Math.PI * 0.5, Math.PI)\r\n\t\t\t\tctx.stroke()\r\n\t\t\t\tctx.clip()\r\n\t\t\t\tctx.drawImage(img, x, y, width, height);\r\n\t\t\t\tctx.restore()\r\n\t\t\t\tctx.closePath()\r\n\t\t\t},\r\n\t\t\t//圆角矩形\r\n\t\t\tdrawRoundRect(ctx, x, y, width, height, radius, color){\r\n\t\t\t\tctx.save();\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tctx.setFillStyle(color); \r\n\t\t\t\tctx.setStrokeStyle(color)\r\n\t\t\t\tctx.setLineJoin('round');  //交点设置成圆角\r\n\t\t\t\tctx.setLineWidth(radius);\r\n\t\t\t\tctx.strokeRect(x + radius/2, y + radius/2, width - radius , height - radius );\r\n\t\t\t\tctx.fillRect(x + radius, y + radius, width - radius * 2, height - radius * 2);\r\n\t\t\t\tctx.stroke();\r\n\t\t\t\tctx.closePath();\r\n\t\t\t},\r\n\t\t\t//获取图片\r\n\t\t\tgetImageInfo(imgSrc){\r\n\t\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\tuni.getImageInfo({\r\n\t\t\t\t\t\tsrc: imgSrc,\r\n\t\t\t\t\t\tsuccess: (image) => {\r\n\t\t\t\t\t\t\tresolve(image);\r\n\t\t\t\t\t\t\t// console.log('获取图片成功',image)\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\t\treject(err);\r\n\t\t\t\t\t\t\tconsole.log('获取图片失败',err)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t//保存图片到相册\r\n\t\t\tsaveImage(){\r\n\t\t\t\t//判断用户授权\r\n\t\t\t\tuni.getSetting({\r\n\t\t\t\t   success(res) {\r\n\t\t\t\t      console.log('获取用户权限',res.authSetting)\r\n\t\t\t\t\t  if(Object.keys(res.authSetting).length>0){\r\n\t\t\t\t\t\t  //判断是否有相册权限\r\n\t\t\t\t\t\t  if(res.authSetting['scope.writePhotosAlbum']==undefined){\r\n\t\t\t\t\t\t\t  //打开设置权限\r\n\t\t\t\t\t\t\t  uni.openSetting({\r\n\t\t\t\t\t\t\t    success(res) {\r\n\t\t\t\t\t\t\t      console.log('设置权限',res.authSetting)\r\n\t\t\t\t\t\t\t    }\r\n\t\t\t\t\t\t\t  })\r\n\t\t\t\t\t\t  }else{\r\n\t\t\t\t\t\t\t  if(!res.authSetting['scope.writePhotosAlbum']){\r\n\t\t\t\t\t\t\t\t  //打开设置权限\r\n\t\t\t\t\t\t\t\t  uni.openSetting({\r\n\t\t\t\t\t\t\t\t    success(res) {\r\n\t\t\t\t\t\t\t\t      console.log('设置权限',res.authSetting)\r\n\t\t\t\t\t\t\t\t    }\r\n\t\t\t\t\t\t\t\t  })\r\n\t\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t  }\r\n\t\t\t\t\t  }else{\r\n\t\t\t\t\t\t  return\r\n\t\t\t\t\t  }\r\n\t\t\t\t   }\r\n\t\t\t\t})\r\n\t\t\t\tvar that = this\r\n\t\t\t\tuni.canvasToTempFilePath({\r\n\t\t\t\t\tcanvasId: 'my-canvas',\r\n\t\t\t\t\tquality: 1,\r\n\t\t\t\t\tcomplete: (res) => {\r\n\t\t\t\t\t\tconsole.log('保存到相册',res);\r\n\t\t\t\t\t\tuni.saveImageToPhotosAlbum({\r\n\t\t\t\t\t\t\tfilePath: res.tempFilePath,\r\n\t\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: '已保存到相册',\r\n\t\t\t\t\t\t\t\t\ticon: 'success',\r\n\t\t\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t\t\tthat.isShow = false\r\n\t\t\t\t\t\t\t\t},2000)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t},this);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.content{\r\n\tposition: fixed;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\tz-index: 999999;\r\n\tbackground:#999999;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\t.save-btn{\r\n\t\tmargin-top: 35rpx;\r\n\t\tcolor: #FFFFFF;\r\n\t\tbackground: linear-gradient(to right, #FE726B , #FE956B);\r\n\t\tpadding: 15rpx 40rpx;\r\n\t\tborder-radius: 50rpx;\r\n\t}\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./haibao.vue?vue&type=style&index=0&id=97d53f78&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./haibao.vue?vue&type=style&index=0&id=97d53f78&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1652013646871\n      var cssReload = require(\"D:/Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}